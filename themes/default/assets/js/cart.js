// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var Cart, cart, counters, selectedCount;
    $('.spinner').spinner({
      min: 1,
      value: 1,
      icons: {
        down: "spinner-down",
        up: "spinner-up"
      }
    });
    $('.catalog-grid-header').scrollToFixed({
      limit: 0
    });
    $('.pay-icon').on('click', function(e) {
      var x, y;
      x = e.clientX;
      y = e.clientY;
      return $.show_abaris_box('.sto-modal', {
        beforeShow: function() {
          return $('.blue-button').on('click', function() {
            return $.fancybox.close();
          });
        }
      });
    });
    counters = $('.selected_count');
    selectedCount = $('#cart-details-list input:checkbox:checked').size();
    $('#cart-details-list input:checkbox').change(function() {
      if ($(this).prop('checked')) {
        selectedCount += 1;
      } else {
        selectedCount -= 1;
      }
      return counters.text(selectedCount);
    });
    Cart = (function() {
      function Cart() {
        this.generalSelected = $('#cart-details-list .catalog-grid-row input:checkbox:checked').size();
        this.activeSelected = $('#cart-details-list .catalog-grid-row input:checkbox:checked').size();
        this.archiveSelected = $('#cart-details-list input:checkbox:checked').size();
        this.generalCounters = $('.subtotal.icons .item.select, .subtotal.icons .item.delete');
        this.activeCounters = $('.subtotal.icons .item.active');
        this.arciveCounters = $('.subtotal.icons .item.archive');
      }

      Cart.prototype.updateCounters = function(actived, archived) {
        if (actived == null) {
          actived = 0;
        }
        if (archived == null) {
          archived = 0;
        }
        this.generalCounters += actived + archived;
        return this.activeCounters += actived;
      };

      return Cart;

    })();
    return cart = new Cart;
  });

}).call(this);

/*
//@ sourceMappingURL=cart.map
*/
