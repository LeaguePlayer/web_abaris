// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    $('.grid-items .catalog-grid-row').on('click', function(e) {
      var $this, checkbox;
      if ($(e.target).hasClass('spinner-up') || $(e.target).hasClass('spinner-down')) {
        return false;
      }
      $this = $(this);
      checkbox = $this.find('input:checkbox');
      if (checkbox.prop('checked')) {
        checkbox.prop('checked', false);
        $this.removeClass('select');
      } else {
        checkbox.prop('checked', true);
        $this.addClass('select');
      }
      checkbox.trigger("change");
      return false;
    });
    $.show_abaris_box = function(selector, options) {
      if (options == null) {
        options = {};
      }
      $.extend(options, {
        wrapCSS: 'abaris-modal',
        padding: 5
      });
      return $.fancybox.open($(selector), options);
    };
    $(".catalog-grid-row").hover(function() {
      if (!$(this).hasClass('no-hover')) {
        return $(this).addClass('active');
      }
    }, function() {
      return $(this).removeClass('active');
    });
    $.cart_push = function(product_id, options) {
      if (options == null) {
        options = {};
      }
      return $.ajax({
        url: '/user/cart/put',
        type: 'GET',
        dataType: 'json',
        data: {
          id: product_id
        },
        success: function(data) {
          if (!data.error) {
            return $.show_abaris_box(data.html, options);
          } else {
            return $.show_abaris_box(data.error, options);
          }
        }
      });
    };
    $.pluralize = function(n, labels) {
      var i, _ref, _ref1;
      if (labels == null) {
        labels = false;
      }
      i = (_ref = n % 10 === 1 && n % 100 !== 11) != null ? _ref : {
        0: (_ref1 = n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20)) != null ? _ref1 : {
          1: 2
        }
      };
      if (labels !== false) {
        return labels[i];
      } else {
        return i;
      }
    };
    return $('.information').tooltip({
      animation: false
    });
  });

}).call(this);

/*
//@ sourceMappingURL=main.map
*/
