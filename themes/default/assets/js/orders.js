// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var $overlay, $parent, $shakeElement, buttonFinish, orderButton;
    $('.information').tooltip({
      animation: false
    });
    buttonFinish = $('button.finish').attr('disabled', 'disabled');
    $('#Orders_confirm').click(function(e) {
      if ($(this).prop('checked')) {
        return buttonFinish.removeAttr('disabled');
      } else {
        return buttonFinish.attr('disabled', 'disabled');
      }
    });
    orderButton = $('.order-button');
    if (orderButton.size() > 0) {
      $parent = orderButton.parent();
      $overlay = $('<div />');
      $overlay.css({
        position: "absolute",
        top: $parent.position().top,
        left: $parent.position().left,
        width: $parent.outerWidth(),
        height: $parent.outerHeight(),
        zIndex: 10000,
        backgroundColor: "#fff",
        opacity: 0
      }).click(function(e) {
        return orderButton.trigger('click');
      });
      $parent.append($overlay);
      $shakeElement = $('#snake-element');
      return orderButton.click(function(e) {
        var clearShake, form;
        if (orderButton.prop('disabled')) {
          $shakeElement.addClass('shake animated');
          clearShake = function() {
            return $shakeElement.removeClass('shake animated');
          };
          setTimeout(clearShake, 500);
          return false;
        }
        form = $(this).parents('form').attr('action');
        return $.ajax({
          url: form.attr('action'),
          type: 'POST',
          data: form.serialize(),
          success: function(data) {
            return $.show_abaris_box(data);
          }
        });
      });
    }
  });

}).call(this);

/*
//@ sourceMappingURL=orders.map
*/
